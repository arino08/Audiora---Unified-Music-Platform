{"ast":null,"code":"import _asyncToGenerator from \"/home/ariz/DEV/Audiora/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport _defineProperty from \"/home/ariz/DEV/Audiora/frontend/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";\nimport { computed, signal } from '@angular/core';\nimport { trigger, transition, style, animate } from '@angular/animations';\nimport { CommonModule } from '@angular/common';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"./player.service\";\nimport * as i2 from \"./spotify-web-sdk.service\";\nimport * as i3 from \"./youtube-player.service\";\nimport * as i4 from \"./liked-songs.service\";\nimport * as i5 from \"@angular/common\";\nfunction BottomPlayerComponent_div_0_img_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"img\", 47);\n  }\n  if (rf & 2) {\n    const cur_r2 = i0.ɵɵnextContext().ngIf;\n    i0.ɵɵproperty(\"src\", cur_r2.image, i0.ɵɵsanitizeUrl);\n  }\n}\nfunction BottomPlayerComponent_div_0_div_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 48);\n    i0.ɵɵtext(1, \"\\u266A\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction BottomPlayerComponent_div_0_div_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"div\", 49);\n  }\n}\nfunction BottomPlayerComponent_div_0_ng_container_11_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const cur_r2 = i0.ɵɵnextContext().ngIf;\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate(ctx_r2.spotifyArtists(cur_r2).join(\", \"));\n  }\n}\nfunction BottomPlayerComponent_div_0_ng_template_12_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵtext(0);\n  }\n  if (rf & 2) {\n    const cur_r2 = i0.ɵɵnextContext().ngIf;\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵtextInterpolate(ctx_r2.displayProvider(cur_r2));\n  }\n}\nfunction BottomPlayerComponent_div_0__svg_svg_24_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵnamespaceSVG();\n    i0.ɵɵelementStart(0, \"svg\", 50);\n    i0.ɵɵelement(1, \"polygon\", 51);\n    i0.ɵɵelementEnd();\n  }\n}\nfunction BottomPlayerComponent_div_0__svg_svg_25_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵnamespaceSVG();\n    i0.ɵɵelementStart(0, \"svg\", 50);\n    i0.ɵɵelement(1, \"rect\", 52)(2, \"rect\", 53);\n    i0.ɵɵelementEnd();\n  }\n}\nfunction BottomPlayerComponent_div_0_div_37_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"div\", 54);\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext(2);\n    i0.ɵɵstyleProp(\"left\", ctx_r2.hoverPercent, \"%\");\n  }\n}\nfunction BottomPlayerComponent_div_0__svg_svg_43_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵnamespaceSVG();\n    i0.ɵɵelementStart(0, \"svg\", 14);\n    i0.ɵɵelement(1, \"polygon\", 55)(2, \"path\", 56);\n    i0.ɵɵelementEnd();\n  }\n}\nfunction BottomPlayerComponent_div_0__svg_svg_44_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵnamespaceSVG();\n    i0.ɵɵelementStart(0, \"svg\", 14);\n    i0.ɵɵelement(1, \"polygon\", 55)(2, \"path\", 57);\n    i0.ɵɵelementEnd();\n  }\n}\nfunction BottomPlayerComponent_div_0__svg_svg_45_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵnamespaceSVG();\n    i0.ɵɵelementStart(0, \"svg\", 14);\n    i0.ɵɵelement(1, \"polygon\", 55)(2, \"line\", 58)(3, \"line\", 59);\n    i0.ɵɵelementEnd();\n  }\n}\nfunction BottomPlayerComponent_div_0_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r1 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 2)(1, \"div\", 3)(2, \"div\", 4)(3, \"div\", 5);\n    i0.ɵɵtemplate(4, BottomPlayerComponent_div_0_img_4_Template, 1, 1, \"img\", 6)(5, BottomPlayerComponent_div_0_div_5_Template, 2, 0, \"div\", 7);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(6, BottomPlayerComponent_div_0_div_6_Template, 1, 0, \"div\", 8);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"div\", 9)(8, \"div\", 10);\n    i0.ɵɵtext(9);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"div\", 11);\n    i0.ɵɵtemplate(11, BottomPlayerComponent_div_0_ng_container_11_Template, 2, 1, \"ng-container\", 12)(12, BottomPlayerComponent_div_0_ng_template_12_Template, 1, 1, \"ng-template\", null, 0, i0.ɵɵtemplateRefExtractor);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(14, \"button\", 13);\n    i0.ɵɵlistener(\"click\", function BottomPlayerComponent_div_0_Template_button_click_14_listener() {\n      const cur_r2 = i0.ɵɵrestoreView(_r1).ngIf;\n      const ctx_r2 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r2.toggleLike(cur_r2));\n    });\n    i0.ɵɵnamespaceSVG();\n    i0.ɵɵelementStart(15, \"svg\", 14);\n    i0.ɵɵelement(16, \"path\", 15);\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵnamespaceHTML();\n    i0.ɵɵelementStart(17, \"div\", 16)(18, \"div\", 17)(19, \"button\", 18);\n    i0.ɵɵlistener(\"click\", function BottomPlayerComponent_div_0_Template_button_click_19_listener() {\n      i0.ɵɵrestoreView(_r1);\n      const ctx_r2 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r2.previous());\n    });\n    i0.ɵɵnamespaceSVG();\n    i0.ɵɵelementStart(20, \"svg\", 19);\n    i0.ɵɵelement(21, \"polygon\", 20)(22, \"line\", 21);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵnamespaceHTML();\n    i0.ɵɵelementStart(23, \"button\", 22);\n    i0.ɵɵlistener(\"click\", function BottomPlayerComponent_div_0_Template_button_click_23_listener() {\n      i0.ɵɵrestoreView(_r1);\n      const ctx_r2 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r2.togglePlay());\n    });\n    i0.ɵɵtemplate(24, BottomPlayerComponent_div_0__svg_svg_24_Template, 2, 0, \"svg\", 23)(25, BottomPlayerComponent_div_0__svg_svg_25_Template, 3, 0, \"svg\", 23);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(26, \"button\", 24);\n    i0.ɵɵlistener(\"click\", function BottomPlayerComponent_div_0_Template_button_click_26_listener() {\n      i0.ɵɵrestoreView(_r1);\n      const ctx_r2 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r2.next());\n    });\n    i0.ɵɵnamespaceSVG();\n    i0.ɵɵelementStart(27, \"svg\", 19);\n    i0.ɵɵelement(28, \"polygon\", 25)(29, \"line\", 26);\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵnamespaceHTML();\n    i0.ɵɵelementStart(30, \"div\", 27)(31, \"span\", 28);\n    i0.ɵɵtext(32);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(33, \"div\", 29);\n    i0.ɵɵlistener(\"click\", function BottomPlayerComponent_div_0_Template_div_click_33_listener($event) {\n      i0.ɵɵrestoreView(_r1);\n      const ctx_r2 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r2.scrub($event));\n    })(\"mousemove\", function BottomPlayerComponent_div_0_Template_div_mousemove_33_listener($event) {\n      i0.ɵɵrestoreView(_r1);\n      const ctx_r2 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r2.preview($event));\n    })(\"mouseleave\", function BottomPlayerComponent_div_0_Template_div_mouseleave_33_listener() {\n      i0.ɵɵrestoreView(_r1);\n      const ctx_r2 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r2.hovering = false);\n    });\n    i0.ɵɵelementStart(34, \"div\", 30);\n    i0.ɵɵelement(35, \"div\", 31)(36, \"div\", 32);\n    i0.ɵɵtemplate(37, BottomPlayerComponent_div_0_div_37_Template, 1, 2, \"div\", 33);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(38, \"span\", 28);\n    i0.ɵɵtext(39);\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(40, \"div\", 34)(41, \"div\", 35)(42, \"button\", 36);\n    i0.ɵɵlistener(\"click\", function BottomPlayerComponent_div_0_Template_button_click_42_listener() {\n      i0.ɵɵrestoreView(_r1);\n      const ctx_r2 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r2.toggleMute());\n    });\n    i0.ɵɵtemplate(43, BottomPlayerComponent_div_0__svg_svg_43_Template, 3, 0, \"svg\", 37)(44, BottomPlayerComponent_div_0__svg_svg_44_Template, 3, 0, \"svg\", 37)(45, BottomPlayerComponent_div_0__svg_svg_45_Template, 4, 0, \"svg\", 37);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(46, \"div\", 38)(47, \"input\", 39);\n    i0.ɵɵlistener(\"input\", function BottomPlayerComponent_div_0_Template_input_input_47_listener($event) {\n      i0.ɵɵrestoreView(_r1);\n      const ctx_r2 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r2.onVolumeInput($event));\n    })(\"change\", function BottomPlayerComponent_div_0_Template_input_change_47_listener() {\n      i0.ɵɵrestoreView(_r1);\n      const ctx_r2 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r2.commitVolume());\n    });\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(48, \"button\", 40);\n    i0.ɵɵnamespaceSVG();\n    i0.ɵɵelementStart(49, \"svg\", 14);\n    i0.ɵɵelement(50, \"line\", 41)(51, \"line\", 42)(52, \"line\", 43)(53, \"line\", 44)(54, \"line\", 45)(55, \"line\", 46);\n    i0.ɵɵelementEnd()()()();\n  }\n  if (rf & 2) {\n    const cur_r2 = ctx.ngIf;\n    const providerOnly_r4 = i0.ɵɵreference(13);\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵclassProp(\"playing\", ctx_r2.playing());\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"@trackChange\", cur_r2.title);\n    i0.ɵɵadvance();\n    i0.ɵɵclassProp(\"placeholder\", !cur_r2.image);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", cur_r2.image);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", !cur_r2.image);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", cur_r2.image && ctx_r2.playing());\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"@trackChange\", cur_r2.title);\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate(cur_r2.title);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"@trackChange\", ctx_r2.spotifyArtists(cur_r2).join(\",\") || ctx_r2.displayProvider(cur_r2));\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r2.isSpotify(cur_r2) && ctx_r2.spotifyArtists(cur_r2).length)(\"ngIfElse\", providerOnly_r4);\n    i0.ɵɵadvance(3);\n    i0.ɵɵclassProp(\"liked\", ctx_r2.isLiked(cur_r2));\n    i0.ɵɵadvance(9);\n    i0.ɵɵclassProp(\"pulsing\", ctx_r2.playing());\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", !ctx_r2.playing());\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r2.playing());\n    i0.ɵɵadvance(7);\n    i0.ɵɵtextInterpolate(ctx_r2.positionLabel());\n    i0.ɵɵadvance(3);\n    i0.ɵɵstyleProp(\"width\", ctx_r2.progressPercent(), \"%\");\n    i0.ɵɵadvance();\n    i0.ɵɵstyleProp(\"left\", ctx_r2.progressPercent(), \"%\");\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r2.hovering);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(ctx_r2.durationLabel());\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngIf\", ctx_r2.volume() > 50);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r2.volume() <= 50 && ctx_r2.volume() > 0);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r2.volume() === 0);\n    i0.ɵɵadvance();\n    i0.ɵɵclassProp(\"visible\", ctx_r2.showVolumeSlider());\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"value\", ctx_r2.volume());\n  }\n}\nexport let BottomPlayerComponent = /*#__PURE__*/(() => {\n  var _BottomPlayerComponent;\n  class BottomPlayerComponent {\n    constructor(player, spotify, yt, likedSongs) {\n      _defineProperty(this, \"player\", void 0);\n      _defineProperty(this, \"spotify\", void 0);\n      _defineProperty(this, \"yt\", void 0);\n      _defineProperty(this, \"likedSongs\", void 0);\n      _defineProperty(this, \"current\", computed(() => this.player.current()));\n      _defineProperty(this, \"playing\", computed(() => this.player.isPlaying()));\n      _defineProperty(this, \"positionMs\", signal(0));\n      _defineProperty(this, \"durationMs\", signal(0));\n      _defineProperty(this, \"volume\", signal(80));\n      _defineProperty(this, \"showVolumeSlider\", signal(false));\n      _defineProperty(this, \"volumeDebounce\", void 0);\n      _defineProperty(this, \"poll\", void 0);\n      _defineProperty(this, \"hovering\", false);\n      _defineProperty(this, \"hoverPercent\", 0);\n      this.player = player;\n      this.spotify = spotify;\n      this.yt = yt;\n      this.likedSongs = likedSongs;\n      this.startPolling();\n    }\n    // Universal like functionality\n    isLiked(track) {\n      if (!track) return false;\n      const provider = track.provider || (track.uri ? 'spotify' : 'youtube');\n      const trackId = provider === 'spotify' ? track.id : track.videoId || track.id;\n      return this.likedSongs.isLiked(trackId, provider);\n    }\n    toggleLike(track) {\n      var _this = this;\n      return _asyncToGenerator(function* () {\n        if (!track) return;\n        const provider = track.provider || (track.uri ? 'spotify' : 'youtube');\n        const isNowLiked = yield _this.likedSongs.toggleLikeServer(track, provider);\n        console.log(`${isNowLiked ? 'Liked' : 'Unliked'}:`, track.title);\n      })();\n    }\n    toggleMute() {\n      if (this.volume() > 0) {\n        this.volume.set(0);\n      } else {\n        this.volume.set(80);\n      }\n      this.applyVolume();\n    }\n    startPolling() {\n      this.poll = setInterval(() => this.tick(), 1000);\n    }\n    tick() {\n      var _this2 = this;\n      return _asyncToGenerator(function* () {\n        const cur = _this2.player.current();\n        if (!cur) {\n          _this2.positionMs.set(0);\n          _this2.durationMs.set(0);\n          return;\n        }\n        if (cur.provider === 'spotify') {\n          const st = yield _this2.spotify.getState();\n          if (st) {\n            _this2.positionMs.set(st.position || 0);\n            _this2.durationMs.set(st.duration || cur.durationMs || 0);\n          }\n        } else if (cur.provider === 'youtube') {\n          const pos = _this2.yt.getPositionSeconds() * 1000;\n          const dur = _this2.yt.getDurationSeconds() * 1000;\n          if (!isNaN(pos)) _this2.positionMs.set(pos);\n          if (!isNaN(dur)) _this2.durationMs.set(dur);\n        }\n      })();\n    }\n    progressPercent() {\n      const d = this.durationMs();\n      return d > 0 ? this.positionMs() / d * 100 : 0;\n    }\n    positionLabel() {\n      return this.format(this.positionMs());\n    }\n    durationLabel() {\n      return this.format(this.durationMs());\n    }\n    format(ms) {\n      const t = Math.floor(ms / 1000);\n      const m = Math.floor(t / 60);\n      const s = t % 60;\n      return m + ':' + s.toString().padStart(2, '0');\n    }\n    togglePlay() {\n      if (this.playing()) {\n        this.player.pause();\n      } else if (this.current()) {\n        this.player.play(this.current(), false);\n      }\n    }\n    next() {\n      this.player.next();\n    }\n    previous() {}\n    // TODO: implement previous track once playback history is tracked in PlayerService.\n    scrub(ev) {\n      if (!this.current()) return;\n      const rect = ev.currentTarget.getBoundingClientRect();\n      const pct = Math.min(1, Math.max(0, (ev.clientX - rect.left) / rect.width));\n      const target = pct * this.durationMs();\n      this.positionMs.set(target);\n      const cur = this.current();\n      if (cur?.provider === 'spotify') {\n        this.spotify.seek(target);\n      } else if (cur?.provider === 'youtube') {\n        this.yt.seek(Math.floor(target / 1000));\n      }\n    }\n    preview(ev) {\n      const rect = ev.currentTarget.getBoundingClientRect();\n      const pct = Math.min(1, Math.max(0, (ev.clientX - rect.left) / rect.width));\n      this.hovering = true;\n      this.hoverPercent = pct * 100;\n    }\n    onVolumeInput(ev) {\n      const val = Number(ev.target.value);\n      this.volume.set(val);\n      // live feedback but debounced commit for providers\n      if (this.volumeDebounce) clearTimeout(this.volumeDebounce);\n      this.volumeDebounce = setTimeout(() => this.applyVolume(), 120);\n    }\n    commitVolume() {\n      this.applyVolume();\n    }\n    applyVolume() {\n      const v = this.volume();\n      const cur = this.current();\n      if (!cur) return;\n      // Spotify SDK volume: 0..1\n      if (cur.provider === 'spotify') {\n        this.spotify.setVolume(Math.min(1, Math.max(0, v / 100)));\n      } else if (cur.provider === 'youtube') {\n        this.yt.setVolume(v);\n      }\n    }\n    displayProvider(cur) {\n      return cur.provider === 'spotify' ? 'Spotify' : 'YouTube';\n    }\n    isSpotify(p) {\n      return p?.provider === 'spotify';\n    }\n    spotifyArtists(p) {\n      return Array.isArray(p?.artists) ? p.artists : [];\n    }\n  }\n  _BottomPlayerComponent = BottomPlayerComponent;\n  _defineProperty(BottomPlayerComponent, \"\\u0275fac\", function BottomPlayerComponent_Factory(__ngFactoryType__) {\n    return new (__ngFactoryType__ || _BottomPlayerComponent)(i0.ɵɵdirectiveInject(i1.PlayerService), i0.ɵɵdirectiveInject(i2.SpotifyWebSdkService), i0.ɵɵdirectiveInject(i3.YouTubePlayerService), i0.ɵɵdirectiveInject(i4.LikedSongsService));\n  });\n  _defineProperty(BottomPlayerComponent, \"\\u0275cmp\", /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: _BottomPlayerComponent,\n    selectors: [[\"audiora-bottom-player\"]],\n    standalone: true,\n    features: [i0.ɵɵStandaloneFeature],\n    decls: 1,\n    vars: 1,\n    consts: [[\"providerOnly\", \"\"], [\"class\", \"bottom-player liquid-glass-enhanced\", 3, \"playing\", 4, \"ngIf\"], [1, \"bottom-player\", \"liquid-glass-enhanced\"], [1, \"bp-left\"], [1, \"art-container\", \"liquid-morph\"], [1, \"art\", \"glass-glow\"], [\"alt\", \"art\", 3, \"src\", 4, \"ngIf\"], [\"class\", \"art-placeholder\", 4, \"ngIf\"], [\"class\", \"art-glow\", 4, \"ngIf\"], [1, \"meta\"], [1, \"title\", \"truncate\"], [1, \"sub\", \"muted\", \"truncate\"], [4, \"ngIf\", \"ngIfElse\"], [\"title\", \"Like\", 1, \"like-btn\", \"liquid-glass\", \"glass-ripple\", 3, \"click\"], [\"width\", \"20\", \"height\", \"20\", \"viewBox\", \"0 0 24 24\", \"fill\", \"none\", \"stroke\", \"currentColor\", \"stroke-width\", \"2\"], [\"d\", \"M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z\"], [1, \"bp-center\"], [1, \"transport\"], [\"title\", \"Previous\", 1, \"t-btn\", \"liquid-glass\", 3, \"click\"], [\"width\", \"18\", \"height\", \"18\", \"viewBox\", \"0 0 24 24\", \"fill\", \"none\", \"stroke\", \"currentColor\", \"stroke-width\", \"2\"], [\"points\", \"19,20 9,12 19,4\"], [\"x1\", \"5\", \"y1\", \"19\", \"x2\", \"5\", \"y2\", \"5\"], [\"title\", \"Play/Pause\", 1, \"t-btn\", \"primary\", \"liquid-glass-enhanced\", \"glass-glow\", 3, \"click\"], [\"width\", \"24\", \"height\", \"24\", \"viewBox\", \"0 0 24 24\", \"fill\", \"currentColor\", 4, \"ngIf\"], [\"title\", \"Next\", 1, \"t-btn\", \"liquid-glass\", 3, \"click\"], [\"points\", \"5,4 15,12 5,20\"], [\"x1\", \"19\", \"y1\", \"5\", \"x2\", \"19\", \"y2\", \"19\"], [1, \"progress-stack\"], [1, \"time\"], [1, \"progress-container\", 3, \"click\", \"mousemove\", \"mouseleave\"], [1, \"progress-line\"], [1, \"fill\"], [1, \"progress-thumb\"], [\"class\", \"hover\", 3, \"left\", 4, \"ngIf\"], [1, \"bp-right\"], [1, \"volume-container\"], [\"title\", \"Volume\", 1, \"volume-btn\", \"liquid-glass\", 3, \"click\"], [\"width\", \"20\", \"height\", \"20\", \"viewBox\", \"0 0 24 24\", \"fill\", \"none\", \"stroke\", \"currentColor\", \"stroke-width\", \"2\", 4, \"ngIf\"], [1, \"volume-slider\"], [\"type\", \"range\", \"min\", \"0\", \"max\", \"100\", 3, \"input\", \"change\", \"value\"], [\"title\", \"Queue\", 1, \"queue-btn\", \"liquid-glass\"], [\"x1\", \"8\", \"y1\", \"6\", \"x2\", \"21\", \"y2\", \"6\"], [\"x1\", \"8\", \"y1\", \"12\", \"x2\", \"21\", \"y2\", \"12\"], [\"x1\", \"8\", \"y1\", \"18\", \"x2\", \"21\", \"y2\", \"18\"], [\"x1\", \"3\", \"y1\", \"6\", \"x2\", \"3.01\", \"y2\", \"6\"], [\"x1\", \"3\", \"y1\", \"12\", \"x2\", \"3.01\", \"y2\", \"12\"], [\"x1\", \"3\", \"y1\", \"18\", \"x2\", \"3.01\", \"y2\", \"18\"], [\"alt\", \"art\", 3, \"src\"], [1, \"art-placeholder\"], [1, \"art-glow\"], [\"width\", \"24\", \"height\", \"24\", \"viewBox\", \"0 0 24 24\", \"fill\", \"currentColor\"], [\"points\", \"5,3 19,12 5,21\"], [\"x\", \"6\", \"y\", \"4\", \"width\", \"4\", \"height\", \"16\"], [\"x\", \"14\", \"y\", \"4\", \"width\", \"4\", \"height\", \"16\"], [1, \"hover\"], [\"points\", \"11,5 6,9 2,9 2,15 6,15 11,19\"], [\"d\", \"M19.07 4.93a10 10 0 0 1 0 14.14M15.54 8.46a5 5 0 0 1 0 7.07\"], [\"d\", \"M15.54 8.46a5 5 0 0 1 0 7.07\"], [\"x1\", \"23\", \"y1\", \"9\", \"x2\", \"17\", \"y2\", \"15\"], [\"x1\", \"17\", \"y1\", \"9\", \"x2\", \"23\", \"y2\", \"15\"]],\n    template: function BottomPlayerComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵtemplate(0, BottomPlayerComponent_div_0_Template, 56, 32, \"div\", 1);\n      }\n      if (rf & 2) {\n        i0.ɵɵproperty(\"ngIf\", ctx.current());\n      }\n    },\n    dependencies: [CommonModule, i5.NgIf],\n    styles: [\".bottom-player[_ngcontent-%COMP%]{display:grid;grid-template-columns:520px 800px 440px;width:100%;align-items:center;gap:32px;height:90px;-webkit-backdrop-filter:blur(40px) saturate(180%);backdrop-filter:blur(40px) saturate(180%);background:linear-gradient(135deg,#141a22d9,#0c1016e6);border-top:1px solid rgba(255,255,255,.08);position:relative;overflow:hidden;z-index:var(--z-content)}.bottom-player[_ngcontent-%COMP%]:before{content:\\\"\\\";position:absolute;inset:0;background:radial-gradient(circle at 20% 50%,rgba(36,134,255,.12),transparent 60%);pointer-events:none;z-index:0}.bottom-player[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{position:relative;z-index:1}.bp-left[_ngcontent-%COMP%]{display:flex;align-items:center;gap:16px;min-width:0}.art-container[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center;justify-content:center}.art[_ngcontent-%COMP%]{width:64px;height:64px;background:#ffffff0d;border-radius:12px;overflow:hidden;display:flex;align-items:center;justify-content:center;border:1px solid rgba(255,255,255,.08);position:relative;z-index:2}.art[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.art-placeholder[_ngcontent-%COMP%]{font-size:24px;color:var(--color-text-dim);font-weight:600}.art-glow[_ngcontent-%COMP%]{position:absolute;inset:-8px;background:var(--gradient-accent);border-radius:20px;filter:blur(16px);opacity:.4;z-index:1;animation:_ngcontent-%COMP%_art-pulse 3s ease-in-out infinite alternate}@keyframes _ngcontent-%COMP%_art-pulse{0%{transform:scale(.95);opacity:.3}to{transform:scale(1.05);opacity:.5}}.meta[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:4px;min-width:0;flex:1}.title[_ngcontent-%COMP%]{font-size:15px;font-weight:600;line-height:1.3}.like-btn[_ngcontent-%COMP%]{background:none;border:none;color:var(--color-text-dim);cursor:pointer;padding:8px;border-radius:50%;transition:all var(--transition-base);display:flex;align-items:center;justify-content:center}.like-btn[_ngcontent-%COMP%]:hover{color:var(--color-accent);background:#2486ff1a;transform:scale(1.1)}.like-btn.liked[_ngcontent-%COMP%]{color:var(--color-accent)}.like-btn.liked[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{fill:currentColor}.transport[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;justify-content:center;margin-bottom:12px}.t-btn[_ngcontent-%COMP%]{background:#ffffff14;border:1px solid rgba(255,255,255,.12);color:var(--color-text);border-radius:50%;cursor:pointer;transition:all var(--transition-base);display:flex;align-items:center;justify-content:center;width:40px;height:40px}.t-btn.primary[_ngcontent-%COMP%]{width:48px;height:48px;background:var(--gradient-accent);border:none;color:#fff;position:relative;overflow:hidden}.t-btn.primary.pulsing[_ngcontent-%COMP%]{animation:pulse-glow 2s ease-in-out infinite}.t-btn.pulsing[_ngcontent-%COMP%]:before{content:\\\"\\\";position:absolute;inset:-4px;border-radius:inherit;box-shadow:0 0 #2486ff99;animation:_ngcontent-%COMP%_pulse 2.2s ease-in-out infinite}.t-btn[_ngcontent-%COMP%]:hover{background:#ffffff26;border-color:#ffffff40;transform:translateY(-1px)}.t-btn.primary[_ngcontent-%COMP%]:hover{filter:brightness(1.1);background:var(--gradient-accent)}.progress-stack[_ngcontent-%COMP%]{flex:1;display:grid;grid-template-columns:50px 1fr 50px;align-items:center;gap:16px}.progress-container[_ngcontent-%COMP%]{position:relative;cursor:pointer;padding:8px 0}.progress-line[_ngcontent-%COMP%]{position:relative;height:6px;background:#ffffff1f;border-radius:3px;overflow:hidden}.progress-line[_ngcontent-%COMP%]   .fill[_ngcontent-%COMP%]{position:absolute;left:0;top:0;bottom:0;background:var(--gradient-accent);border-radius:inherit;box-shadow:0 0 0 1px #ffffff14,0 2px 6px -2px #0009;transition:box-shadow var(--transition-base)}.progress-container[_ngcontent-%COMP%]:hover   .progress-line[_ngcontent-%COMP%]   .fill[_ngcontent-%COMP%]{box-shadow:0 0 0 1px #ffffff1f,0 4px 12px -2px #2486ff66}.progress-thumb[_ngcontent-%COMP%]{position:absolute;top:50%;width:12px;height:12px;background:#fff;border-radius:50%;transform:translate(-50%,-50%);box-shadow:0 2px 8px -2px #00000080;opacity:0;transition:opacity var(--transition-base)}.progress-container[_ngcontent-%COMP%]:hover   .progress-thumb[_ngcontent-%COMP%]{opacity:1}.bottom-player.playing[_ngcontent-%COMP%]   .progress-line[_ngcontent-%COMP%]   .fill[_ngcontent-%COMP%]:after{content:\\\"\\\";position:absolute;inset:0;background:linear-gradient(120deg,transparent 0%,rgba(255,255,255,.4) 45%,transparent 60%);animation:_ngcontent-%COMP%_shimmer 6s linear infinite;mix-blend-mode:overlay}.progress-line[_ngcontent-%COMP%]   .hover[_ngcontent-%COMP%]{position:absolute;top:-4px;width:2px;height:14px;background:var(--color-accent);opacity:.9;pointer-events:none;box-shadow:0 0 8px 2px #2486ff99;border-radius:1px}.time[_ngcontent-%COMP%]{font-size:12px;font-variant-numeric:tabular-nums;color:var(--color-text-dim);text-align:center}.bp-center[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:8px}.bp-right[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;align-items:center;gap:12px}.volume-container[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center}.volume-btn[_ngcontent-%COMP%]{background:none;border:none;color:var(--color-text-dim);cursor:pointer;padding:8px;border-radius:50%;transition:all var(--transition-base);display:flex;align-items:center;justify-content:center}.volume-btn[_ngcontent-%COMP%]:hover{color:var(--color-text);background:#ffffff14}.volume-slider[_ngcontent-%COMP%]{position:absolute;bottom:100%;left:50%;transform:translate(-50%);background:#141a22f2;-webkit-backdrop-filter:blur(20px);backdrop-filter:blur(20px);border:1px solid rgba(255,255,255,.12);border-radius:var(--radius-lg);padding:16px 8px;margin-bottom:8px;opacity:0;pointer-events:none;transition:all var(--transition-base)}.volume-slider.visible[_ngcontent-%COMP%]{opacity:1;pointer-events:all}.volume-slider[_ngcontent-%COMP%]   input[type=range][_ngcontent-%COMP%]{width:80px;height:4px;writing-mode:bt-lr;-webkit-appearance:slider-vertical;accent-color:var(--color-accent);cursor:pointer;background:transparent}.queue-btn[_ngcontent-%COMP%]{background:none;border:none;color:var(--color-text-dim);cursor:pointer;padding:8px;border-radius:50%;transition:all var(--transition-base);display:flex;align-items:center;justify-content:center}.queue-btn[_ngcontent-%COMP%]:hover{color:var(--color-text);background:#ffffff14}@media (max-width: 980px){.bottom-player[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:16px;height:auto;padding:16px}.bp-center[_ngcontent-%COMP%]{order:3}.bp-right[_ngcontent-%COMP%]{order:2;justify-content:center}}@keyframes _ngcontent-%COMP%_pulse{0%{box-shadow:0 0 #2486ff99}70%{box-shadow:0 0 0 16px #2486ff00}to{box-shadow:0 0 #2486ff00}}@keyframes _ngcontent-%COMP%_shimmer{0%{transform:translate(-60%)}to{transform:translate(60%)}}\"],\n    data: {\n      animation: [trigger('trackChange', [transition(':enter', [style({\n        opacity: 0,\n        transform: 'translateY(6px)'\n      }), animate('240ms cubic-bezier(.4,0,.2,1)', style({\n        opacity: 1,\n        transform: 'translateY(0)'\n      }))]), transition(':increment', [style({\n        opacity: 0,\n        transform: 'translateY(6px)'\n      }), animate('240ms cubic-bezier(.4,0,.2,1)', style({\n        opacity: 1,\n        transform: 'translateY(0)'\n      }))])])]\n    }\n  }));\n  return BottomPlayerComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}